(()=>{"use strict";!function(){const t=document.querySelector(".toggle"),e=document.querySelector(".toggle__svg"),n=document.querySelector(".nav");t.addEventListener("click",(function(){!1===n.classList.contains("show-menu")?(n.classList.add("show-menu"),e.style.transform="rotate(180deg)",e.style.transition=".3s"):(e.style.transform="rotate(0)",setTimeout((function(){n.classList.add("close-menu"),n.classList.contains("show-menu","close-menu")&&setTimeout((function(){n.classList.remove("show-menu","close-menu")}),1e3)}),300))}))}(),function(){const t=document.querySelector(".sorting__link--age"),e=document.querySelector(".sorting__svg--age"),n=document.querySelector(".sorting__link--price"),o=document.querySelector(".sorting__svg--price");window.sorting={deleteElements:function(){const t=document.querySelectorAll(".cat");for(let e=0;e<t.length;e++)t[e].remove()},getValueInArray:function(t,e){for(let n=0;n<t.length;n++){let o=t[n].textContent.replace(/\s/g,"");e.push(Number(o))}},getAgesArray:function(){const t=document.querySelectorAll(".description__age--value"),e=[];return window.sorting.getValueInArray(t,e),e},getPricesArray:function(){const t=document.querySelectorAll(".cat__price--value"),e=[];return window.sorting.getValueInArray(t,e),e},getSmallToLargArr:function(t,e){return t.sort(((t,n)=>t.getAttribute(e)-n.getAttribute(e)))},getLargToSmallArr:function(t,e){return t.sort(((t,n)=>n.getAttribute(e)-t.getAttribute(e)))},getSortedList:function(t,e,n){const o=document.querySelectorAll(".cat"),r=document.querySelector(".cats__list"),i=document.createDocumentFragment(),s=Array.from(o);window.sorting.deleteElements();for(let n=0;n<s.length;n++)s[n].setAttribute(t,e[n]);n(s,t);for(let e=0;e<n(s,t).length;e++)i.appendChild(n(s,t)[e]);return r.appendChild(i),r},sortHandler:function(t,e){t.classList.toggle("toggle-sort"),t.classList.contains("toggle-sort")?window.sorting.getSortedList("data-age",e,window.sorting.getSmallToLargArr):window.sorting.getSortedList("data-age",e,window.sorting.getLargToSmallArr)}},t.addEventListener("click",(function(t){t.preventDefault(),window.debounce((function(){window.sorting.sortHandler(e,window.sorting.getAgesArray())}))})),n.addEventListener("click",(function(t){t.preventDefault(),window.debounce((function(){window.sorting.sortHandler(o,window.sorting.getPricesArray())}))}))}(),function(){const t=document.querySelector(".cats__list"),e=document.querySelector("body");t.addEventListener("click",(function(t){if(t.target&&t.target.matches("path")){const n=document.querySelector("#notification").content.querySelector(".add-to-favorites").cloneNode(!0);t.target.classList.toggle("active-like"),e.appendChild(n),n.classList.add("show-notification"),setTimeout((function(){n.remove()}),3e3),t.target.classList.contains("active-like")?n.textContent="Добавлен в избранное":n.textContent="Удалён из избранного"}}))}(),function(){const t=document.querySelector(".subscribe__email"),e=document.querySelector(".subscribe__form"),n=function(t){const e=document.querySelector(".subscribe__email");/\S+@\S+\.\S+/.test(t)?e.setCustomValidity(""):e.setCustomValidity("Пример - shop@cats.ru"),e.reportValidity()};t.addEventListener("input",(function(){n(t.value)})),e.addEventListener("submit",(function(e){e.preventDefault(),n(t.value),this.submit()}))}(),function(){const t=document.querySelector(".up-btn");window.scrollUp={showBtnHandler:function(){const e=window.pageYOffset,n=document.documentElement.clientHeight/2;e>n&&t.classList.add("up-btn-show"),e<n&&t.classList.remove("up-btn-show")},upHandler:function(){window.pageYOffset>0&&(window.scrollBy(0,-9),setTimeout(window.scrollUp.upHandler,0))}},window.addEventListener("scroll",(function(){window.scrollUp.showBtnHandler()})),t.addEventListener("click",(function(){window.scrollUp.upHandler()}))}(),function(){let t;window.debounce=function(e){t&&window.clearTimeout(t),t=window.setTimeout(e,300)}}()})();